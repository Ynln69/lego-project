{"version":3,"file":"our-products-ov7_IQA0.js","sources":["../../src/js/our-products.js"],"sourcesContent":["import { addToCart } from './cart';\n\nconst productsPerPage = 6; // Кількість товарів на сторінці\nlet currentPage = 1; // Поточна сторінка\n\n// Завантажуємо продукти і додаємо логіку для кнопок \"Додати до корзини\"\nfetch('./data/products-data.json')\n  .then(response => response.json())\n  .then(data => {\n    const productsList = document.getElementById('our-products');\n    const paginationContainer = document.getElementById('pagination');\n\n    // Перевіряємо, на якій сторінці ми знаходимось\n    const isHomePage = window.location.pathname.includes('index.html');\n    const productsToShow = isHomePage\n      ? data.products.slice(0, 3)\n      : data.products;\n\n    // Функція для відображення товарів на поточній сторінці\n    function displayProducts(page) {\n      productsList.innerHTML = '';\n      const start = (page - 1) * productsPerPage;\n      const end = start + productsPerPage;\n      const productsToDisplay = productsToShow.slice(start, end);\n\n      productsToDisplay.forEach(product => {\n        const li = document.createElement('li');\n        li.classList.add('our-products-item');\n\n        li.innerHTML = `\n          <a href=\"../product-page.html?id=${product.id}\">\n          <img src=\"${product.photo}\" alt=\"${product.title}\" class=\"products-item-img\">\n          <div class=\"products-item-thumb\">\n            <h3 class=\"products-item-title\">${product.title}</h3>\n            <p class=\"products-item-desk\">${product.description}</p>\n          </div>\n          </a>\n          <div class=\"products-item-wrapper\">\n            <p class=\"products-item-price\">${product.price}PLN</P>\n             <button type=\"button\" class=\"basket-btn\" data-id=\"${product.id}\">${product.button}\n              <svg width=\"16\" height=\"16\">\n                  <use href=\"../img/icon/icon-defs.svg#icon-shopping-cart\"></use>\n              </svg>\n            </button>\n          </div>\n        `;\n        productsList.appendChild(li);\n\n        // Додаємо обробник події для кнопки \"Додати до корзини\"\n        li.querySelector('.basket-btn').addEventListener('click', () => {\n          addToCart(product);\n        });\n      });\n    }\n\n    // Функція для відображення кнопок пагінації\n    function setupPagination() {\n      paginationContainer.innerHTML = '';\n      const pageCount = Math.ceil(productsToShow.length / productsPerPage);\n\n      for (let i = 1; i <= pageCount; i++) {\n        const button = document.createElement('button');\n        button.innerText = i;\n        button.classList.add('pagination-button');\n        if (i === currentPage) {\n          button.classList.add('active');\n        }\n\n        button.addEventListener('click', () => {\n          currentPage = i;\n          displayProducts(currentPage);\n          setupPagination();\n        });\n\n        paginationContainer.appendChild(button);\n      }\n    }\n    // Якщо не головна сторінка, додаємо пагінацію\n    if (!isHomePage) {\n      displayProducts(currentPage);\n      setupPagination();\n    } else {\n      displayProducts(1); // Для головної сторінки просто показуємо перші 6 товарів\n    }\n  })\n  .catch(error => console.error('Помилка при завантаженні JSON:', error));\n"],"names":["productsPerPage","currentPage","response","data","productsList","paginationContainer","isHomePage","productsToShow","displayProducts","page","start","end","product","li","addToCart","setupPagination","pageCount","i","button","error"],"mappings":"6CAEA,MAAMA,EAAkB,EACxB,IAAIC,EAAc,EAGlB,MAAM,2BAA2B,EAC9B,KAAKC,GAAYA,EAAS,MAAM,EAChC,KAAKC,GAAQ,CACZ,MAAMC,EAAe,SAAS,eAAe,cAAc,EACrDC,EAAsB,SAAS,eAAe,YAAY,EAG1DC,EAAa,OAAO,SAAS,SAAS,SAAS,YAAY,EAC3DC,EAAiBD,EACnBH,EAAK,SAAS,MAAM,EAAG,CAAC,EACxBA,EAAK,SAGT,SAASK,EAAgBC,EAAM,CAC7BL,EAAa,UAAY,GACzB,MAAMM,GAASD,EAAO,GAAKT,EACrBW,EAAMD,EAAQV,EACMO,EAAe,MAAMG,EAAOC,CAAG,EAEvC,QAAQC,GAAW,CACnC,MAAMC,EAAK,SAAS,cAAc,IAAI,EACtCA,EAAG,UAAU,IAAI,mBAAmB,EAEpCA,EAAG,UAAY;AAAA,6CACsBD,EAAQ,EAAE;AAAA,sBACjCA,EAAQ,KAAK,UAAUA,EAAQ,KAAK;AAAA;AAAA,8CAEZA,EAAQ,KAAK;AAAA,4CACfA,EAAQ,WAAW;AAAA;AAAA;AAAA;AAAA,6CAIlBA,EAAQ,KAAK;AAAA,iEACOA,EAAQ,EAAE,KAAKA,EAAQ,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAOtFR,EAAa,YAAYS,CAAE,EAG3BA,EAAG,cAAc,aAAa,EAAE,iBAAiB,QAAS,IAAM,CAC9DC,EAAUF,CAAO,CAC3B,CAAS,CACT,CAAO,CACF,CAGD,SAASG,GAAkB,CACzBV,EAAoB,UAAY,GAChC,MAAMW,EAAY,KAAK,KAAKT,EAAe,OAASP,CAAe,EAEnE,QAASiB,EAAI,EAAGA,GAAKD,EAAWC,IAAK,CACnC,MAAMC,EAAS,SAAS,cAAc,QAAQ,EAC9CA,EAAO,UAAYD,EACnBC,EAAO,UAAU,IAAI,mBAAmB,EACpCD,IAAMhB,GACRiB,EAAO,UAAU,IAAI,QAAQ,EAG/BA,EAAO,iBAAiB,QAAS,IAAM,CACrCjB,EAAcgB,EACdT,EAAgBP,CAAW,EAC3Bc,GACV,CAAS,EAEDV,EAAoB,YAAYa,CAAM,CACvC,CACF,CAEIZ,EAIHE,EAAgB,CAAC,GAHjBA,EAAgBP,CAAW,EAC3Bc,IAIN,CAAG,EACA,MAAMI,GAAS,QAAQ,MAAM,iCAAkCA,CAAK,CAAC"}